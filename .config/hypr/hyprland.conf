# Please note not all available settings / options are set here.
# For a full list, see the wiki https://wiki.hyprland.org/

# See https://wiki.hyprland.org/Configuring/Monitors/
source=~/.config/hypr/monitors.conf
source=~/.config/hypr/workspaces.conf

# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Execute your favorite apps at launch
exec-once = hyprctl setcursor Breeze_Light 24
exec-once = hypridle
exec-once = hyprpaper
exec-once = waybar
exec-once = swaync
exec-once = swayosd-server
exec-once = systemctl --user start hyprpolkitagent
exec-once = dbus-update-activation-environment --systemd --all
exec-once = ~/.local/bin/.bt-idle

# Set cursor theme and size
env = HYPRCURSOR_THEME,Breeze_Light
env = HYPRCURSOR_SIZE,24
env = XCURSOR_THEME,Breeze_Light
env = XCURSOR_SIZE,24

# Themes related
env = CLUTTER_BACKEND,wayland
env = QT_QPA_PLATFORMTHEME,hyprqt6engine
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland

#debug:overlay = true

misc {
    disable_hyprland_logo = true
    mouse_move_enables_dpms = true
    key_press_enables_dpms = true

    vrr = true
    vfr = true
}

input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    sensitivity = 0
    follow_mouse = true
    natural_scroll = true
    force_no_accel = true

    touchpad {
        natural_scroll = true
        clickfinger_behavior = 1
    }
}

general {
    gaps_in = 4
    gaps_out = 8
    border_size = 2
    col.active_border = rgb(33ccff) rgb(00ff99) 45deg
    col.inactive_border = rgb(595959)

    layout = dwindle
}

windowrule = border_color rgb(ff9e64) rgb(880808) 45deg, match:fullscreen 1

decoration {
    rounding = 4
    blur:enabled = false
    shadow:enabled = false
}

animations {
    enabled = false
}

dwindle {
    pseudotile = true
    preserve_split = true
}

# WINE STUFF
windowrule = opacity 0.0 override 0.0 override, match:class ^(explorer.exe)$
windowrule = move 0 0, match:class ^(explorer.exe)$
windowrule = no_anim on, match:class ^(explorer.exe)$
windowrule = no_focus on, match:class ^(explorer.exe)$
windowrule = no_initial_focus on, match:class ^(explorer.exe)$
windowrule = workspace 10 silent, match:class ^(explorer.exe)$

# Force some apps/windows to be floating
windowrule = float on, match:class ^(blueman-manager)$
windowrule = float on, match:class ^(nm-connection-editor)$
windowrule = float on, match:class ^(nwg-displays)$
windowrule = float on, match:class ^(nwg-look)$
windowrule = float on, match:class ^(org.kde.kcalc)$
windowrule = float on, match:class ^(pavucontrol)$
windowrule = float on, match:title ^(Calculator)(.*)$
windowrule = float on, match:title ^(Friends List)(.*)$
windowrule = float on, match:title ^(MetaMask)(.*)$
windowrule = float on, match:title ^(Steam - News)(.*)$
windowrule = float on, match:title ^(btop)(.*)$
windowrule = float on, match:class floating

# Hide the sharing screen window
windowrule = opacity 0.0 override 0.0 override, match:title ^(.*)(is sharing your screen.)$
windowrule = move 0 0, match:title ^(.*)(is sharing your screen.)$
windowrule = no_anim on, match:title ^(.*)(is sharing your screen.)$
windowrule = no_focus on, match:title ^(.*)(is sharing your screen.)$
windowrule = no_initial_focus on, match:title ^(.*)(is sharing your screen.)$
windowrule = workspace 10 silent, match:title ^(.*)(is sharing your screen.)$

# Workspace rules
windowrule = workspace 2 silent, match:class ^(.*)discord.com(.*)$
windowrule = workspace 2 silent, match:class ^(.*)teams.microsoft.com(.*)$
windowrule = workspace 2 silent, match:class discord
windowrule = workspace 2 silent, match:class teams-for-linux
windowrule = workspace 2 silent, match:title ^(.*)discord.com(.*)qutebrowser$
windowrule = workspace 2 silent, match:title ^(.*)teams.microsoft.com(.*)qutebrowser$
windowrule = workspace 3 silent, match:class org.mozilla.Thunderbird
windowrule = workspace 7 silent, match:class Exodus
windowrule = workspace 7 silent, match:class Navcoin-Qt
windowrule = workspace 8 silent, match:class lutris
windowrule = workspace 8 silent, match:class steam
windowrule = workspace 9 silent, match:class ^(.*)open.spotify.com(.*)$
windowrule = workspace 9 silent, match:class obs
windowrule = workspace 9 silent, match:class spotify
windowrule = workspace 9 silent, match:title ^(.*)open.spotify.com(.*)qutebrowser$

# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mod = super

# START???
bind = $mod shift, g, exec, notify-send "Join them not beat them"; ~/.local/bin/.start

# Notification center
bind = $mod, n, exec, swaync-client -t -sw
bind = $mod shift, n, exec, swaync-client -d -sw
bind = $mod alt, n, exec, swaync-client -C -sw

# Browser
bind = $mod, b, exec, chromium

# Terminal
bind = $mod, c, exec, alacritty

# File manager
bind = $mod, e, exec, nautilus -w

# Lock screen
bind = $mod, m, exec, hyprlock

# Colorpicker
bind = $mod ctrl, p, exec, hyprpicker --no-fancy --autocopy

# Screenshot
bind = $mod, p, exec, grimblast --notify --freeze copysave area ~/Pictures/Screenshots/`date "+%Y%m%d_%Hh%Mm%Ss"`.png
bind = , Print, exec, grimblast --notify --freeze copysave area ~/Pictures/Screenshots/`date "+%Y%m%d_%Hh%Mm%Ss"`.png

# Screenrecord
bind = $mod shift, p, exec, kooha

# Menus
bind = $mod shift, m, exec, ~/.local/bin/.menu-power
bind = , XF86PowerOff, exec, ~/.local/bin/.menu-power
bind = $mod, space, exec, ~/.local/bin/.menu-apps
bind = $mod shift, space, exec, ~/.local/bin/.menu-mail
bind = $mod, r, exec, ~/.local/bin/.menu-calc
bind = $mod, period, exec, ~/.local/bin/.menu-emoji
bind = $mod, w, exec, ~/.local/bin/.menu-wifi
bind = $mod, t, exec, ~/.local/bin/.menu-time

# Systemcontrol binds
bind = $mod, f, fullscreen, 1
bind = $mod shift, f, fullscreen, 0
bind = $mod, q, killactive,
bind = $mod, s, togglesplit,
bind = $mod, v, togglefloating,

# Brightness
bind = ,XF86MonBrightnessDown, exec, swayosd-client --brightness=-10
bind = ,XF86MonBrightnessUp, exec, swayosd-client --brightness=+10

# Volume control
bind = $mod, up, exec,    swayosd-client --max-volume=140 --output-volume=+10
bind = $mod, down, exec,  swayosd-client --max-volume=140 --output-volume=-10
bind = $mod, left, exec,  swayosd-client --max-volume=140 --output-volume=mute-toggle
bind = $mod, right, exec, swayosd-client --max-volume=140 --output-volume=mute-toggle
bind = ,XF86AudioRaiseVolume, exec, swayosd-client --max-volume=140 --output-volume=+10
bind = ,XF86AudioLowerVolume, exec, swayosd-client --max-volume=140 --output-volume=-10
bind = ,XF86AudioMute, exec,        swayosd-client --max-volume=140 --output-volume=mute-toggle

# Microphone control
bind = $mod shift, up, exec,    swayosd-client --input-volume=+10
bind = $mod shift, down, exec,  swayosd-client --input-volume=-10
bind = $mod shift, left, exec,  swayosd-client --input-volume=mute-toggle
bind = $mod shift, right, exec, swayosd-client --input-volume=mute-toggle
bind = $mod,XF86AudioRaiseVolume, exec, swayosd-client --input-volume=+10
bind = $mod,XF86AudioLowerVolume, exec, swayosd-client --input-volume=-10
bind = $mod,XF86AudioMute, exec,        swayosd-client --input-volume=mute-toggle
bind = ,XF86AudioMicMute, exec,         swayosd-client --input-volume=mute-toggle

# Move focus with mod + hjkl keys
bind = $mod, h, movefocus, l
bind = $mod, l, movefocus, r
bind = $mod, k, movefocus, u
bind = $mod, j, movefocus, d

# Window TAB for switching while in fullscreen or fakefullscreen
bind = $mod, tab, cyclenext
bind = $mod shift, tab, cyclenext, prev

# Window size changes
bind = ctrl, right, resizeactive, 20 0
bind = ctrl, left, resizeactive, -20 0
bind = ctrl, up, resizeactive, 0 -20
bind = ctrl, down, resizeactive, 0 20

# Move window with mod + hjkl keys
bind = $mod shift, h, movewindow, l
bind = $mod shift, l, movewindow, r
bind = $mod shift, k, movewindow, u
bind = $mod shift, j, movewindow, d

# Switch workspaces with mod + [0-9]
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

# Move active window to a workspace with mod + shift + [0-9]
bind = $mod shift, 1, movetoworkspace, 1
bind = $mod shift, 2, movetoworkspace, 2
bind = $mod shift, 3, movetoworkspace, 3
bind = $mod shift, 4, movetoworkspace, 4
bind = $mod shift, 5, movetoworkspace, 5
bind = $mod shift, 6, movetoworkspace, 6
bind = $mod shift, 7, movetoworkspace, 7
bind = $mod shift, 8, movetoworkspace, 8
bind = $mod shift, 9, movetoworkspace, 9
bind = $mod shift, 0, movetoworkspace, 10

# Move/resize windows with mod + LMB/RMB and dragging
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow
